!function(){var t,e={exports:{}};function n(t,e={}){this.getOpenStatus=function(){return c},this.open=function(){c=!0,b()},this.close=function(){c=!1,g()},this.toggleStatus=function(){c?g():b()},this.onOpen=function(t){document.addEventListener("ActionBtnOpened",function(){t()})},this.onClose=function(t){document.addEventListener("ActionBtnClosed",function(){t()})};var n,i,o,s,a,r,c=!1,l=0,d=Object.assign({},{actionBtnSize:80,actionBtnColor:"rgb(249, 180, 120)",itemsSize:45,itemsColors:["rgb(117, 174, 253)","rgb(247, 113, 109)","rgb(251, 213, 112)"],itemsGap:20,itemsOpenType:"radial",itemsOpenDirection:"top-left"},e),u={container:t,btn:(o=d.actionBtnSize,s=d.actionBtnColor,a=document.createElement("button"),a.classList.add("addBtn"),a.setAttribute("type","button"),a.style.width=o+"px",a.style.height=o+"px",a.style.backgroundColor=s,a.addEventListener("click",function(){c?g():b()}),a),items:Array.prototype.slice.call(t.querySelectorAll("*"))},p=((r=document.createElement("div")).classList.add("addBtn__wrapper"),r.style.width=`${d.actionBtnSize}px`,r.style.height=`${d.actionBtnSize}px`,r),h=t.children,f=new CustomEvent("ActionBtnOpened",{detail:{msg:"Action-button is opened"},bubbles:!0,cancelable:!1}),m=new CustomEvent("ActionBtnClosed",{detail:{msg:"Action-button is closed"},bubbles:!0,cancelable:!1});function y(){return l}function b(){var e,o=function(t=d.itemsGap){if(!(t>0))throw new Error("Please set more gap between Action-button and items.");var e=[],n=t+d.actionBtnSize/2+d.itemsSize/2,i=n*Math.cos(45*Math.PI/180),o=n*Math.sin(45*Math.PI/180),s={x:"0px",y:`-${n}px`},a={x:`-${i}px`,y:`-${o}px`},r={x:`-${n}px`,y:"0px"},c={x:`-${i}px`,y:`${o}px`},l={x:"0px",y:`${n}px`};return e.push(s,a,r,c,l),e}(),s=u.btn;t.classList.add("addBtn__wrap--active"),t.style.width=`${x()}px`,t.style.height=`${x()}px`,s.classList.remove("addBtn--close"),s.classList.add("addBtn--open"),s.style.animationIterationCount=h.length-1,u.items.forEach(function(t,e){t.style.transform=`translate(${o[e].x}, ${o[e].y})`}),c=!0,clearTimeout(i),e=y(),n=setTimeout(function(){u.btn.dispatchEvent(f)},1e3*e)}function g(){var e,o=u.btn;t.classList.remove("addBtn__wrap--active"),t.style.width="auto",t.style.height="auto",o.classList.remove("addBtn--open"),o.classList.add("addBtn--close"),o.style.animationIterationCount=h.length-1,u.items.forEach(function(t,e){t.style.transform="translate(0)"}),c=!1,clearTimeout(n),e=y(),i=setTimeout(function(){u.btn.dispatchEvent(m)},1e3*e)}function x(){return 2*(d.actionBtnSize/2+d.itemsGap+d.itemsSize+20)}!function(t){if(u.items.length>5)throw new Error("Max items count is 5!!!")}(),u.items.forEach(function(t,e){t.classList.add("addBtn__item"),t.style.width=t.style.height=d.itemsSize+"px",t.style.backgroundColor=d.itemsColors[e],t.style.transitionDelay=0+.5*e+"s",t.style.transitionDuration="0.8s"}),l=parseFloat(h[h.length-1].style.transitionDelay)+parseFloat(h[h.length-1].style.transitionDuration),u.container.insertBefore(u.btn,u.container.firstChild),u.container.insertAdjacentHTML("afterend",'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="0" height="0"><defs><filter id="goo"><feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" /><feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" /><feBlend in="SourceGraphic" in2="goo" /></filter></defs></svg>'),u.container.classList.add("addBtn__wrap"),u.container.parentNode.appendChild(p),p.appendChild(u.container)}t=function(){return n},"object"==typeof e.exports?e.exports=t():"function"==typeof define&&define.amd?define(t):this.ActionBtn=t(),e=e.exports}();